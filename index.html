<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ðŸ‘‘ BILAL-MD ðŸ‘‘</title>
<link rel="icon" type="image/jpg" href="megalodon.jpg">
<style>
/* ===================== GLOBAL STYLES ===================== */
* { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', sans-serif; }
body { background-color:#001f3f; color:white; display:flex; justify-content:center; align-items:center; min-height:100vh; position:relative; overflow:hidden; }
body::before {
    content:"";
    position:absolute; top:0; left:0; width:100%; height:100%;
    background: linear-gradient(270deg,#ff0000,#ff7f00,#ffff00,#00ff00,#0000ff,#4b0082,#ee82ee);
    background-size:500% 500%; animation:glow 15s ease infinite; opacity:0.3; z-index:0;
}
@keyframes glow { 0%{background-position:0% 50%;} 50%{background-position:100% 50%;} 100%{background-position:0% 50%;} }
.card { position:relative; z-index:1; background:rgba(0,0,64,0.9); border-radius:18px; padding:2rem; text-align:center; max-width:480px; box-shadow:0 0 25px #0074D9; }

/* ===================== VERIFICATION PAGE ===================== */
#verification-view h2 { font-size:1.8rem; color:#00aaff; margin-bottom:20px; }
#verification-view p { color:#ccc; margin-bottom:15px; }
#username-input { width:85%; padding:12px; margin-bottom:15px; border:1px solid #0074D9; border-radius:6px; font-size:16px; background:rgba(255,255,255,0.1); color:white; }
#verify-button { padding:12px 25px; background-color:#28a745; color:white; border:none; border-radius:6px; cursor:pointer; font-size:16px; font-weight:bold; transition:background-color 0.3s; }
#verify-button:hover { background-color:#218838; }
#message { margin-top:20px; font-weight:bold; min-height:20px; }
.fork-btn-link { display:none; padding:12px 25px; background-color:#ff0000; color:white; text-decoration:none; border-radius:6px; margin-top:15px; font-weight:bold; transition:background-color 0.3s; }
.fork-btn-link:hover { background-color:#cc0000; }
.success { color:#00ff00; }
.error { color:#ff0000; }

/* ===================== MAIN CONTENT PAGE ===================== */
#main-content-view { display:none; }
#main-content-view img.profile { width:100%; max-height:300px; border-radius:12px; border:4px solid #0074D9; margin-bottom:1rem; object-fit:contain; }
#main-content-view h1 { font-size:1.9rem; margin-bottom:1rem; color:#00aaff; }
.btn { display:block; width:100%; padding:12px; margin:10px 0; background:transparent; border:2px solid #0074D9; border-radius:8px; color:white; font-size:1rem; cursor:pointer; transition:0.4s; animation:buttonGlow 4s linear infinite; }
@keyframes buttonGlow { 0%{box-shadow:0 0 10px #ff0000; border-color:#ff0000;} 33%{box-shadow:0 0 10px #00ff00; border-color:#00ff00;} 66%{box-shadow:0 0 10px #0074D9; border-color:#0074D9;} 100%{box-shadow:0 0 10px #ff0000; border-color:#ff0000;} }
.btn:hover { background:rgba(255,255,255,0.1); transform:scale(1.05); }
.footer { margin-top:1.5rem; font-size:0.85rem; color:#bbb; }
#digital-clock { margin-top:1rem; display:flex; justify-content:center; align-items:center; gap:8px; font-size:1rem; color:#00ffcc; }
.tz-flag { width:20px; height:12px; border-radius:2px; border:1px solid #fff; }
</style>
</head>
<body>

<div id="verification-view" class="card">
    <h2>FORK VERIFICATION</h2>
    <p>AGAR AP NE BILAL-MD BOT KI REPO KO FORK KIA HAI TO AP APNA GITHUB KAA USER-NAME NICHE BOX ME LIKHO ðŸ˜Š</p>
    <input type="text" id="username-input" placeholder="APNA GITHUB USER-NAME LIKHO">
    <button id="verify-button" onclick="verifyFork()">ðŸ‘‘ VERIFY ðŸ‘‘</button>
    <p id="message"></p>
    <a id="fork-link" target="_blank" class="fork-btn-link">ðŸ‘‘ FORK REPO ðŸ‘‘</a>
</div>

<div id="main-content-view" class="card">
    <img src="https://files.catbox.moe/kunzpz.png" alt="Your Photo" class="profile" />
    <h1>ðŸ‘‘ BILAL-MD ðŸ‘‘</h1>
    <button class="btn" onclick="window.open('https://sessiongxx-d6fa5950f581.herokuapp.com/pair', '_blank')">ðŸ‘‘ PAIR ðŸ‘‘</button>
    <button class="btn" onclick="window.open('https://dashboard.heroku.com/new?template=https://github.com/BiLaLTeCh05/BILAL-MD', '_blank')">ðŸ‘‘ DEPLOY ðŸ‘‘</button>
    <button class="btn" onclick="window.open('https://github.com/BilalTech05/BILAL-MD/fork', '_blank')">ðŸ‘‘ REPO ðŸ‘‘</button>
    <button class="btn" onclick="window.open('https://akaserein.github.io/Bilal/', '_blank')">ðŸ‘‘ OWNER ðŸ‘‘</button>
    <button class="btn" onclick="window.open('https://whatsapp.com/channel/0029Vaj3Xnu17EmtDxTNnQ0G')">ðŸ‘‘ CHANNEL ðŸ‘‘</button>
    <button class="btn" onclick="window.open('https://chat.whatsapp.com/BwWffeDwiqe6cjDDklYJ5m?mode=ems_copy_t')">ðŸ‘‘ GROUP ðŸ‘‘</button>

    <div id="digital-clock">
        <span id="time"></span>
        <img src="https://files.catbox.moe/zmhz85.jpg" alt="Flag" class="tz-flag">
    </div>

    <div class="footer">ðŸ‘‘ BILAL-MD WHATSAPP BOT ðŸ‘‘</div>
</div>

<script>
// ===================== CONFIG =====================
const MAIN_REPO_OWNER = 'BilalTech05'; 
const MAIN_REPO_NAME = 'BILAL-MD'; 
// GitHub API Endpoint for forks
const FORKS_API_URL = `https://api.github.com/repos/${MAIN_REPO_OWNER}/${MAIN_REPO_NAME}/forks?per_page=100`;

// Elements
const verificationView = document.getElementById('verification-view');
const mainContentView = document.getElementById('main-content-view');
const messageElement = document.getElementById('message');
const forkLink = document.getElementById('fork-link');
const usernameInput = document.getElementById('username-input');

// Fork link set karna
forkLink.href = `https://github.com/${MAIN_REPO_OWNER}/${MAIN_REPO_NAME}/fork`;

// ===================== VERIFICATION FUNCTION (UPDATED) =====================
// Humne is function ko 'async' bana diya hai taaki yeh GitHub ke jawab ka wait kar sake
async function verifyFork() {
    const username = usernameInput.value.trim();
    messageElement.innerText = '';
    forkLink.style.display = 'none';
    messageElement.className = '';

    if (!username) {
        messageElement.innerText = 'APNA GITHUB USER-NAME LIKHO';
        messageElement.className = 'error';
        return;
    }

    // Agar user repo ka owner khud hai toh foran allow kar do
    if (username.toLowerCase() === MAIN_REPO_OWNER.toLowerCase()) {
        displaySuccess();
        return;
    }

    messageElement.innerText = 'WAIT...ðŸ˜Š';

    try {
        // GitHub API se forks ki list mangwana
        const response = await fetch(FORKS_API_URL);
        
        if (!response.ok) {
            // Agar API mein koi masla ho (jaise rate limit)
            throw new Error(`GitHub API Error: ${response.status}`);
        }

        const forks = await response.json();
        
        // Check karna ki is list mein user ka naam (login) hai ya nahi
        const isForked = forks.some(fork => fork.owner.login.toLowerCase() === username.toLowerCase());

        if (isForked) {
            displaySuccess(); // Agar fork kiya hai
        } else {
            displayError(); // Agar fork nahi kiya
        }
    } catch (error) {
        console.error('Verification failed:', error);
        messageElement.innerText = 'Verification mein koi problem hai. Try again. ðŸ˜ž';
        messageElement.className = 'error';
        forkLink.style.display = 'inline-block'; // Error aane par bhi link dikha do
    }
}

// Success hone par yeh function chalta hai
function displaySuccess() {
    messageElement.innerText = 'AP BILA-MD BOT DEPLOY KAR SAKTE HAI ðŸ™‚â¤ï¸';
    messageElement.className = 'success';
    verificationView.style.display = 'none';
    mainContentView.style.display = 'block';
    updateTime(); // Clock shuru karna
    setInterval(updateTime, 1000); // Clock ko har second update karna
}

// Error aane par yeh function chalta hai
function displayError() {
    messageElement.innerText = `PEHLE ${MAIN_REPO_NAME} REPO FORK KARO ðŸ¥ºâ¤ï¸`;
    messageElement.className = 'error';
    forkLink.style.display = 'inline-block'; // Fork link dikhana
}


// --- Clock Function (Zaruri hai main view ke liye) ---
function updateTime() {
    const timeElement = document.getElementById('time');
    const now = new Date();
    // Pakistan ke time zone (Asia/Karachi) ke mutabik time dikhana
    const formattedTime = now.toLocaleTimeString('en-US', { hour12: true, timeZone: 'Asia/Karachi' });
    timeElement.innerText = formattedTime;
}


// ===================== PAGE LOAD =====================
document.addEventListener('DOMContentLoaded', () => {
    verificationView.style.display = 'block';  // Fork page dikhana
    mainContentView.style.display = 'none';    // Main page chupana
    
    // Button par click hone par naya verifyFork function chalana
    document.getElementById('verify-button').onclick = verifyFork;
});
</script>

</body>
</html>
